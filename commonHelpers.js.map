{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний в документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector(\".search-form\");\nconst url = new URL(\"https://pixabay.com/api/\")\n\n\nconst galleryContainer = document.querySelector(\".gallery\");\n\nconst loader = document.querySelector(\".loader\");\n\nsearchForm.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value\n  \n  url.searchParams.append(\"key\", \"41612762-752dc9341b43071862b7b3b8c\")\n  url.searchParams.append(\"q\", query)\n  url.searchParams.append(\"image_type\", \"photo\")\n  url.searchParams.append(\"orientation\", \"horizontal\");\n  url.searchParams.append(\"safesearch\", true);\n  \n  loader.style.display = \"block\";\n\n    fetch(url)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n      return res.json()\n    })\n    .then(imgs => {\n      if (imgs.hits.length === 0) {\n\n        iziToast.error({\n          title: 'Error',\n          position: 'center',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n      galleryContainer.innerHTML = imgs\n        .hits\n        .map((img) => {\n          return `<li class=\"img-gallery-item\"><a class=\"gallery-link\" href=\"${img.largeImageURL}\"><img class=\"gallery-image\" src=\"${img.webformatURL}\" alt=\"${img.tags}\" width=\"${img.webformatWidth}\"></a></li>`;\n        })\n        .join(\"\"); \n  \n    lightbox.refresh(); \n  }\n    })\n      .catch(error => {\n      iziToast.error({\n        title: 'Error',\n        position: 'center',\n        message: 'Sorry, there are no images matching your search query. Please try again later!',\n      });\n    })\n\n      .finally(() => {\n      loader.style.display = \"none\";\n    });\n\n});\n\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captionDelay: 250,\n  captionsData: 'alt',\n  close: true,\n  enableKeyboard: true,\n  docClose: true,\n});"],"names":["searchForm","url","galleryContainer","loader","event","query","res","imgs","iziToast","img","lightbox","error","SimpleLightbox"],"mappings":"wvBAQA,MAAMA,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAM,IAAI,IAAI,0BAA0B,EAGxCC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAW,iBAAiB,SAAWI,GAAU,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAEjDH,EAAI,aAAa,OAAO,MAAO,oCAAoC,EACnEA,EAAI,aAAa,OAAO,IAAKI,CAAK,EAClCJ,EAAI,aAAa,OAAO,aAAc,OAAO,EAC7CA,EAAI,aAAa,OAAO,cAAe,YAAY,EACnDA,EAAI,aAAa,OAAO,aAAc,EAAI,EAE1CE,EAAO,MAAM,QAAU,QAErB,MAAMF,CAAG,EACR,KAAKK,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAI,KAAM,CACvB,CAAK,EACA,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EAEvBC,EAAS,MAAM,CACb,MAAO,QACP,SAAU,SACV,QAAS,0EACnB,CAAS,GAEHN,EAAiB,UAAYK,EAC1B,KACA,IAAKE,GACG,8DAA8DA,EAAI,kDAAkDA,EAAI,sBAAsBA,EAAI,gBAAgBA,EAAI,2BAC9K,EACA,KAAK,EAAE,EAEZC,EAAS,QAAO,EAEpB,CAAK,EACE,MAAMC,GAAS,CAChBH,EAAS,MAAM,CACb,MAAO,QACP,SAAU,SACV,QAAS,gFACjB,CAAO,CACP,CAAK,EAEE,QAAQ,IAAM,CACfL,EAAO,MAAM,QAAU,MAC7B,CAAK,CAEL,CAAC,EAGD,MAAMO,EAAW,IAAIE,EAAe,aAAc,CAChD,IAAK,GACL,aAAc,IACd,aAAc,MACd,MAAO,GACP,eAAgB,GAChB,SAAU,EACZ,CAAC"}